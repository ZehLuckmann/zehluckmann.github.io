<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
    <title>Atléticas Universipraia 2018</title>
    <style>
      /* Always set the map height explicitly to define the size of the div
       * element that contains the map. */
      #map {
        height: 100%;
      }
      /* Optional: Makes the sample page fill the window. */
      html, body {
        height: 100%;
        margin: 0;
        padding: 0;
      }
    </style>
  </head>
  <body>
    <div id="filter_menu">
      <select id="estado">
       <option value="">Todos</option>
       <option value="PR">Paraná</option>
       <option value="RS">Rio Grande do Sul</option>
       <option value="SC">Santa Catarina</option>
      </select>
      <select id="cidade">
       <option value="">Todos</option>
       <option value="Blumenau">Blumenau</option>
       <option value="Caxias do Sul">Caxias do Sul</option>
       <option value="Chapeco">Chapecó</option>
       <option value="Curitiba">Curitiba</option>
       <option value="Guarapuava">Guarapuava</option>
      </select>
      <button onclick="initMap()">Filtrar</button>
    </div>
    <div id="map"></div>
    <script>

      function initMap() {
        var map = new google.maps.Map(document.getElementById('map'), {
          zoom: 17,
          center: {lat: -28.485500, lng: -48.768865}
        });

        var atleticas = [
          ["GENERAL", "Caxias do Sul", "RS", -28.489720, -48.766580],
          ["ASA", "Curitiba", "PR", -28.489088, -48.765250],
          ["Engenharias IFSUL", "Pelotas", "RS", -28.481664, -48.768876],
          ["TENDEL", "Chapeco", "SC", -28.481721, -48.768162],
          ["GALOS", "", "", -28.4991569, -48.759666],
          ["CAOTICOS", "", "", -28.440523, -48.822045],
          ["ENGENIOS", "Joinvile", "SC", -28.4831585, -48.7689839],
          ["PDC", "Criciúma", "SC", -28.494793, -48.767998],
          ["AAAO", "", "", -28.479170, -48.771095],
          ["AAAX", "", "", -28.490203, -48.768166],
          ["UNISC", "Santa Cruz do Sul", "RS", -28.480336, -48.773805],
          ["AAA", "", "", -28.479283, -48.771273],
          ["ELCARTEL", "", "", -28.479589, -48.768564],
          ["AARDS", "Blumenau", "SC", -28.482926, -48.770402],
          ["AAAAF", "Blumenau", "SC", -28.478907, -48.771126],
          ["AAAOF", "Blumenau", "SC", -28.478918, -48.771319],
          ["MAMUTES", "Guarapuava", "PR", -28.467057, -48.770600],
          ["AAAEA", "Blumenau", "SC", -28.486639, -48.766250],
          ["AAASF", "Blumenau", "SC", -28.487632, -48.771689],
          ["AAAMV", "Blumenau", "SC", -28.487452, -48.771689],
          ["AAASC", "Blumenau", "SC", -28.467057, -48.768000],
          ["UNI", "", "", -28.485532, -48.765468],
          ["UNI", "", "", -28.494719, -48.761675],
        ]
        for (atletica in atleticas)
        {
          if((document.getElementById('estado').value == atleticas[atletica][2] || document.getElementById('estado').value == "") &&
          (document.getElementById('cidade').value == atleticas[atletica][1] || document.getElementById('cidade').value == ""))
          {
            var image = 'icons/icon_'+atleticas[atletica][0]+'.png';
            var Marker = new google.maps.Marker({
              position: {lat: atleticas[atletica][3], lng: atleticas[atletica][4]},
              map: map,
              icon: image
            });
          }
        }
      }
    </script>
    <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBhVDcFleHYnZRiv4UZ-y7DJGgPEgn1hUk&callback=initMap">
    </script>
  </body>
</html>
