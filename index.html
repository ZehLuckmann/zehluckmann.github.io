<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
    <title>Atléticas Universipraia 2018</title>
    <style>
      /* Always set the map height explicitly to define the size of the div
       * element that contains the map. */
      #map {
        height: 94%;
      }
      #filter_menu{
        height: 5%;
      }
      /* Optional: Makes the sample page fill the window. */
      html, body {
        height: 100%;
        margin: 0;
        padding: 0;
      }
    </style>
  </head>
  <body>
    <div id="filter_menu">
      Estado:
      <select id="estado" onchange="initMap()">
       <option value="">Todos</option>
       <option value="PR">Paraná</option>
       <option value="RS">Rio Grande do Sul</option>
       <option value="SC">Santa Catarina</option>
      </select>
      Cidade:
      <select id="cidade" onchange="initMap()">
       <option value="">Todos</option>
       <option value="Blumenau">Blumenau</option>
       <option value="Chapeco">Chapecó</option>
       <option value="Caxias do Sul">Caxias do Sul</option>
       <option value="Chapeco">Chapecó</option>
       <option value="Curitiba">Curitiba</option>
       <option value="Florianopolis">Florianópolis</option>
       <option value="Guarapuava">Guarapuava</option>
       <option value="Pelotas">Pelotas</option>
       <option value="Xanxere">Xanxerê</option>

      </select>
    </div>
    <div id="map"></div>
    <script>

      function initMap() {
        var map = new google.maps.Map(document.getElementById('map'), {
          zoom: 17,
          center: {lat: -28.485500, lng: -48.768865}
        });

        var atleticas = [
          ["AAAC", "Chapeco", "SC", -28.483457, -48.768417],
          ["ATENUN", "Joinvile", "SC", -28.480825, -48.768760],
          ["CCTJ", "Joinvile", "SC", -28.479033, -48.768696],
          ["AAACEM", "Joinvile", "SC", -28.494260, -48.765891],
          ["AAAEA_UNISOSIESC", "Curitiba", "PR", -28.489165, -48.768100],
          ["A3RI", "Florianopolis", "SC", -28.497894,-48.758274],
          ["ATEC", "Florianopolis", "SC", -28.490030, -48.773589],
          ["ATEP", "Florianopolis", "SC", -28.489486, -48.771194],
          ["ATEL", "Florianopolis", "SC", -28.493645, -48.769116],
          ["DIREITO_UFSC", "Florianopolis", "SC", -28.487847, -48.771611],
          ["AESA", "Florianopolis", "SC", -28.488964, -48.768596],
          ["ATACA", "Florianopolis", "SC", -28.488803, -48.768497],
          ["A7", "Florianopolis", "SC", -28.487967, -48.767905],
          ["ATEQA", "Florianopolis", "SC", -28.486179, -48.771625],
          ["ATM", "Florianopolis", "SC", -28.486040, -48.768656],
          ["ATARQ", "Florianopolis", "SC", -28.485596, -48.767667],
          ["AAAMHS", "Pelotas", "RS", -28.489570, -48.770931],
          ["AAAMHS", "Pelotas", "RS", -28.483807, -48.768245],
          ["GENERAL", "Caxias do Sul", "RS", -28.489720, -48.766580],
          ["ASA", "Curitiba", "PR", -28.489088, -48.765250],
          ["Engenharias IFSUL", "Pelotas", "RS", -28.481664, -48.768876],
          ["TENDEL", "Chapeco", "SC", -28.481721, -48.768162],
          ["GALOS", "", "", -28.4991569, -48.759666],
          ["CAOTICOS", "", "", -28.440523, -48.822045],
          ["ENGENIOS", "Joinvile", "SC", -28.4831585, -48.7689839],
          ["PDC", "Criciúma", "SC", -28.494793, -48.767998],
          ["AAAO", "", "", -28.479170, -48.771095],
          ["AAAX", "Xanxere", "SC", -28.490203, -48.768166],
          ["AAAX", "Xanxere", "SC", -28.487508, -48.767091],
          ["AAAX", "Xanxere", "SC", -28.486441, -48.771894],
          ["UNISC", "Santa Cruz do Sul", "RS", -28.480336, -48.773805],
          ["AAA", "", "", -28.479283, -48.771273],
          ["ELCARTEL", "", "", -28.479589, -48.768564],
          ["AARDS", "Blumenau", "SC", -28.482926, -48.770402],
          ["AAAAF", "Blumenau", "SC", -28.478907, -48.771126],
          ["AAAOF", "Blumenau", "SC", -28.478918, -48.771319],
          ["MAMUTES", "Guarapuava", "PR", -28.467057, -48.770600],
          ["AAAEA", "Blumenau", "SC", -28.486639, -48.766250],
          ["AAASF", "Blumenau", "SC", -28.487632, -48.771689],
          ["AAAMV", "Blumenau", "SC", -28.487452, -48.771689],
          ["AAASC", "Blumenau", "SC", -28.467057, -48.768000],
          ["UNI", "", "", -28.485532, -48.765468],
          ["UNI", "", "", -28.494719, -48.761675],
        ]
        for (atletica in atleticas)
        {
          if(((document.getElementById('estado').value == atleticas[atletica][2] || document.getElementById('estado').value == "") &&
          (document.getElementById('cidade').value == atleticas[atletica][1] || document.getElementById('cidade').value == "")) ||
          (atleticas[atletica][0] == "UNI"))
          {
            var image = 'icons/icon_'+atleticas[atletica][0]+'.png';
            var Marker = new google.maps.Marker({
              position: {lat: atleticas[atletica][3], lng: atleticas[atletica][4]},
              map: map,
              icon: image
            });
          }
        }
      }
    </script>
    <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBhVDcFleHYnZRiv4UZ-y7DJGgPEgn1hUk&callback=initMap">
    </script>
  </body>
</html>
